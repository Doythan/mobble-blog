{{> layout/header}}

<div class="container p-4">
    <h2 class="mb-3">내 카테고리</h2>

    <!-- 목록 -->
    <ul class="list-group mb-4">
        {{#model}}
            <li class="list-group-item d-flex align-items-center gap-2">
                <!-- 각 아이템의 필드에 바로 접근 -->
                <span class="me-auto">{{category}}</span>

                <!-- 이름 변경 -->
                <form action="/mypage/categories/{{id}}/rename" method="post" class="d-flex gap-2">
                    <input type="text" name="category" placeholder="새 이름" required class="form-control form-control-sm" />
                    <button type="submit" class="btn btn-sm btn-primary">이름변경</button>
                </form>

                <!-- 삭제 -->
                <form action="/mypage/categories/{{id}}/delete" method="post" class="ms-2">
                    <button type="submit" class="btn btn-sm btn-outline-danger">삭제</button>
                </form>
            </li>
        {{/model}}

        {{^model}}
            <li class="list-group-item text-muted">카테고리가 없습니다.</li>
        {{/model}}
    </ul>

    <!-- 추가 -->
    <h3 class="mb-2">카테고리 추가</h3>
    <form action="/mypage/categories" method="post" class="d-flex gap-2">
        <!-- saveForm을 내려줬으니 value 바인딩 가능 (지금은 빈 값이지만, 추후 에러 시 입력값 유지 등에 유용) -->
        <input type="text" name="category" value="" placeholder="예) Flutter" required class="form-control" />
        <button type="submit" class="btn btn-success">추가</button>
    </form>
</div>

{{> layout/footer}}
